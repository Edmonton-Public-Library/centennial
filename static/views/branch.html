<div id="branch-viewer" data-bind="
	style: {
		width: Environment.display.viewportWidth() + 'px',
		height: Environment.display.viewportHeight() + 'px',
		overflow: 'hidden'
	}">
	<div id="branch-header" data-role="branch-header">
		<div id="branch-header-content">
			<div class="branch-title">
				<span data-bind="text: branchName()"></span>
				(<span data-bind="text: branchStartDate()"></span> - <span data-bind="text: branchEndDate()"></span>)
			</div>
			<span data-bind="text: branchDesc()"></span>
		</div>
	</div>
	<img data-bind="attr: {src: floorplanUrl()}" data-role="floorplan" />
	<div data-bind="foreach: contentTypesList">
		<div data-bind="text: $data + ': ' + $root.storyData[$data]().length, visible: $root.storyData[$data]().length > 0, click: $root.openStorySelector, attr: {class: 'pin ' + $root.contentTypes[$data].color}, style: {padding: '10px', position: 'absolute', top: $root.typeCoordinates[$data]().random.y + 'px', left: $root.typeCoordinates[$data]().random.x + 'px'}"></div>
	</div>
	<div id="story-selector" data-bind="foreach: storyData[selectedStoryType()]">
		<div class="story-selector-element" data-bind="html: $data.title, click: function () { window.location.hash = '#viewStory/' + $data.id }"></div>
	</div>
	<div id="jump-to-branch">
		<select data-bind="options: allBranches, optionsText: 'name', optionsValue: 'id',
			optionsCaption: 'Jump to Branch...'" onChange="top.location='#branch/' + this.value;">
		</select>
	</div>
</div>