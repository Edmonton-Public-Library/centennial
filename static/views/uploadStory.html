<div id="tm-inputForm">
    <form action="" id="uploadStoryForm" method="POST" enctype="multipart/form-data">
        <h2>Upload Your Story</h2>
        
        <p>
            <label for="title">Title: <span class="required">*</span></label>
            <input type="text" id="title" name="title" maxLength="50" size="50" data-bind="value: story.title"/>
        </p>
        
        <p>
            Story: <span class="required">*</span>
            <div class="indent">
                <p>
                    <input type="radio" name="contentType" id="textRadio" value="text" data-bind="checked: story.content_type">
                    <label for="textRadio">Add text:</label>
                    <span class="required" data-bind="css: { hidden: story.content_type() != 'text' }">*</span>
                    <textarea id="textInput" name="textInput" rows="7" cols="50"
                        class="top" data-bind="value: story.story_text, enable: story.content_type() == 'text'"></textarea>
                </p>
                <p>
                    <input type="radio" name="contentType" id="linkRadio" value="link" data-bind="checked: story.content_type">
                    <label for="linkRadio">Add link:</label>
                    <span class="required" data-bind="css: { hidden: story.content_type() != 'link' }">*</span>
                    <input type="text" id="linkInput" name="linkInput" size="50"
                        data-bind="value: story.link_url, enable: story.content_type() == 'link'">
                </p>
                <p>
                    <input type="radio" name="contentType" id="fileRadio" value="media" data-bind="checked: story.content_type">
                    <label for="fileRadio">Choose file:</label>
                    <span class="required" data-bind="css: { hidden: story.content_type() != 'media' }">*</span>
                    <input type="file" id="fileInput" name="up_file" data-bind="enable: story.content_type() == 'media'">
                    <span class="hintText">(.jpg, .png or .pdf)</span>
                </p>
            </div>
        </p>
           
        <p>
            <label for="branch">Branch: <span class="required">*</span></label>
            <select data-bind= "options: branchOptions, optionsText: 'name', optionsValue: 'id',
                optionsCaption: 'Select a branch', value: story.branch">
            </select>
        </p>
        
        <p>
            <label for="dayDate">Date:</label>
            <input type="text" id="dayDate" name="day" maxLength="2"size="2"
                data-bind="value: story.day">
            <input type="text" id="monthDate" name="month" maxLength="2" size="2"
                data-bind="value: story.month">
            <input type="text" id="yearDate" name="year" maxLength="4" size="4"
                data-bind="value: story.year">
            <span class="required">*</span>
            <span class="hintText">(dd MM yyyy)</span>
        </p>
    
        <p>
            Keywords:
            <div class="indent">
                <table>
                    <tr>
                        <td class="keywordCell">
                            <input type="checkbox" id="booksKeyword" value="Books"
                                data-bind="checked: story.preset_keywords">
                            <label for="booksKeyword">Books</label></td>
                        <td class="keywordCell">
                            <input type="checkbox" id="libCelebKeyword" value="Library Celebrations"
                                data-bind="checked: story.preset_keywords">
                            <label for="libCelebKeyword">Library Celebrations</label></td>
                    </tr>
                    <tr>
                        <td class="keywordCell">
                            <input type="checkbox" id="childrenKeyword" value="Children and Libraries"
                                data-bind="checked: story.preset_keywords">
                            <label for="childrenKeyword">Children and Libraries</label></td>
                        <td class="keywordCell">
                            <input type="checkbox" id="libraryProgKeyword" value="Library Programs"
                                data-bind="checked: story.preset_keywords">
                            <label for="libraryProgKeyword">Library Programs</label></td>
                    </tr>
                    <tr>
                        <td class="keywordCell">
                            <input type="checkbox" id="familiesKeyword" value="Families and Libraries"
                                data-bind="checked: story.preset_keywords">
                            <label for="familiesKeyword">Families and Libraries</label></td>
                        <td class="keywordCell">
                            <input type="checkbox" id="renoKeyword" value="Library Renovations"
                                data-bind="checked: story.preset_keywords">
                            <label for="renoKeyword">Library Renovations</label></td>
                    </tr>
                    <tr>
                        <td class="keywordCell">
                            <input type="checkbox" id="librariansKeyword" value="Librarians" 
                                data-bind="checked: story.preset_keywords"> 
                            <label for="librariansKeyword">Librarians</label></td>
                        <td class="keywordCell">
                            <input type="checkbox" id="readingKeyword" value="Reading" 
                                data-bind="checked: story.preset_keywords"> 
                            <label for="readingKeyword">Reading</label></td>
                    </tr>
                </table><br/>
                
                <label for="customKeywords">Enter your own:</label>
                <input type="text" id="custom_keywords" name="custom_keywords" size="50"
                    data-bind="value: story.custom_keywords">
                <span class="hintText">(Separated by commas)</span>
            </div>
        </p>
        
        <p>
            <label for="description">Description: <span class="required">*</span></label>
            <textarea id="description" name="description" rows="7" cols="55"
                class="top" data-bind="value: story.description"></textarea>
        </p>
            
        <p>
            <input type="checkbox" id="anonymousInd" data-bind="checked: story.anonymous_ind">
            <label for="anonymousInd">Check if you wish to remain anonymous.</label>
        </p>
        
        <button data-bind="click: submitStory">Upload</button> <input type="button" value="Cancel">
        
        <p>
            <textarea name="tasks" data-bind="value: ko.toJSON(story)" rows="7" cols="50"></textarea>
        </p>
    </form>
</div>